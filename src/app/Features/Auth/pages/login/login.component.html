<div class="auth-container">
  <div class="auth-background"></div>

  <div class="auth-content">
    <div class="auth-card">
      <div class="auth-header">
        <h1 class="auth-title">Welcome Back</h1>
        <p class="auth-subtitle">Sign in to your NeuroTech account</p>
      </div>

      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="auth-form">
        @if (errorMessage) {
          <div class="error-alert">
            <i class="fas fa-exclamation-circle"></i>
            <span>{{ errorMessage }}</span>
          </div>
        }

        <div class="form-group">
          <label for="email" class="form-label">Email Address</label>
          <div class="input-wrapper">
            <i class="fas fa-envelope input-icon"></i>
            <input
              type="email"
              id="email"
              formControlName="email"
              class="form-input"
              placeholder="Enter your email"
              [class.invalid]="email?.invalid && email?.touched"
            />
          </div>
          @if (email?.invalid && email?.touched) {
            <div class="error-message">
              @if (email?.errors?.['required']) {
                <span>Email is required</span>
              }
              @if (email?.errors?.['email']) {
                <span>Please enter a valid email</span>
              }
            </div>
          }
        </div>

        <div class="form-group">
          <label for="password" class="form-label">Password</label>
          <div class="input-wrapper">
            <i class="fas fa-lock input-icon"></i>
            <input
              [type]="showPassword ? 'text' : 'password'"
              id="password"
              formControlName="password"
              class="form-input"
              placeholder="Enter your password"
              [class.invalid]="password?.invalid && password?.touched"
            />
            <i
              class="fas input-icon-right"
              [class.fa-eye]="!showPassword"
              [class.fa-eye-slash]="showPassword"
              (click)="togglePassword()"
            ></i>
          </div>
          @if (password?.invalid && password?.touched) {
            <div class="error-message">
              @if (password?.errors?.['required']) {
                <span>Password is required</span>
              }
              @if (password?.errors?.['minlength']) {
                <span>Password must be at least 6 characters</span>
              }
            </div>
          }
        </div>

        <button
          type="submit"
          class="btn-primary"
          [disabled]="isLoading"
          [class.loading]="isLoading"
        >
          @if (isLoading) {
            <span class="spinner"></span>
            <span>Signing in...</span>
          } @else {
            <span>Sign In</span>
          }
        </button>

        <div class="auth-footer">
          <p class="footer-text">
            Don't have an account?
            <a routerLink="/auth/register" class="footer-link">Sign up here</a>
          </p>
        </div>
      </form>
    </div>
  </div>
</div>
